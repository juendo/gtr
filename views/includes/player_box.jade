.player-box(
  ng-drop='true', 
  ng-drop-success='dragEnded($data, $event)', 
  ng-repeat='player in game.players', 
  style='background-color: #{{ player == game.players[currentPlayer] ? "bbddbb" : "ffefd5" }};width:{{100/game.players.length}}%;'
)
  .player-clientele-shadow
  .player-clientele
    img.client(
      ng-repeat='client in player.clientele track by $index', 
      src='images/clients/{{ client }}.png', alt='{{ client }}'
    )
  .player-building-area(
    ng-repeat='building in player.buildings'
  )
    img.building(
      ng-drop='true', 
      ng-drop-success='dragEnded($data, $event, building)', 
      src='images/cards/{{ building.name }}.png', 
      alt='{{ building.name }}', 
      style='-webkit-filter: grayscale({{building.materials.length < colorValues[building.color] ? 0.75 : 0}});'
    )
    .materials-holder
      .materials(
        ng-if='building.materials.length < colorValues[building.color]', 
        style='width:{{ 16 * colorValues[building.color] }}%;'
      )
        .material(
          ng-repeat='material in building.materials track by $index', 
          style='width: {{ 100 / colorValues[building.color] }}%;background-color:#{{ colors[material] }};'
        )
  .stockpile
    .stockpile-material(
      ng-drag='true', 
      ng-drag-data='{index: $index, material: material}', 
      ng-drag-success='removeFromStockpile($data, $event)', 
      ng-repeat='material in player.stockpile track by $index', 
      ng-click='currentPlayer == you ? merchant(game.players[you], {index: $index, material: material}) : null', 
      style='background-color:#{{ colors[material] }}'
    )